{% extends 'base.html' %}

{% block title %}Contact - Construction Site{% endblock %}

{% block content %}
<div class="container py-5">
  <h1 class="text-center mb-4 fw-bold text-primary">Get in Touch</h1>
  <p class="text-center text-muted mb-5">
    Have a project in mind? Let's discuss your vision and turn it into reality.
  </p>

  <!-- âœ… Floating Success Alert -->
  {% if messages %}
    {% for message in messages %}
      <div id="success-alert" 
           class="alert alert-success alert-dismissible fade show position-fixed top-0 start-50 translate-middle-x mt-3 shadow-lg"
           style="z-index: 1050; max-width: 400px;" 
           role="alert">
        <i class="bi bi-check-circle-fill me-2"></i>{{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  <div class="row g-5 align-items-start">
    <!-- ðŸ§¾ Contact Form -->
    <div class="col-lg-6">
      <div class="card shadow-sm border-0 rounded-4 p-4">
        <h4 class="text-primary mb-4">Send a Message</h4>
        <form method="post" action="{% url 'contact' %}">
          {% csrf_token %}
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Name</label>
              <input type="text" class="form-control rounded-pill px-3" name="name" required>
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Email</label>
              <input type="email" class="form-control rounded-pill px-3" name="email" required>
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Phone</label>
            <input type="text" class="form-control rounded-pill px-3" name="phone" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Project Type</label>
            <select class="form-select rounded-pill px-3" name="project_type" required>
              <option value="">-- Select Project Type --</option>
              <option value="Residential">Residential</option>
              <option value="Commercial">Commercial</option>
              <option value="Industrial">Industrial</option>
              <option value="Institutional">Institutional</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="mb-3">
            <label class="form-label">Subject</label>
            <input type="text" class="form-control rounded-pill px-3" name="subject" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Message</label>
            <textarea class="form-control rounded-4 px-3" name="message" rows="5" required></textarea>
          </div>

          <button type="submit" class="btn btn-primary rounded-pill px-4 py-2 w-100 shadow-sm">
            <i class="bi bi-send-fill me-2"></i>Send Message
          </button>
        </form>
      </div>
    </div>

    <!-- ðŸ—ï¸ Contact Information -->
    <div class="col-lg-6">
      <div class="ps-lg-4">
        <h4 class="text-primary mb-4">Our Office</h4>
        <div class="mb-3 d-flex align-items-start">
          <i class="bi bi-geo-alt-fill text-primary fs-4 me-3"></i>
          <div>
            <strong>Address:</strong><br>
            123 Construction Ave,<br>
            Building City, BC 12345, India
          </div>
        </div>

        <div class="mb-3 d-flex align-items-start">
          <i class="bi bi-telephone-fill text-primary fs-4 me-3"></i>
          <div>
            <strong>Phone:</strong><br>
            <a href="tel:+917004020921" class="text-decoration-none text-dark">+91 7004020921</a>
          </div>
        </div>

        <div class="mb-3 d-flex align-items-start">
          <i class="bi bi-envelope-fill text-primary fs-4 me-3"></i>
          <div>
            <strong>Email:</strong><br>
            <a href="mailto:mehulrajsingh9145@gmail.com" class="text-decoration-none text-dark">
              mehulrajsingh9145@gmail.com
            </a>
          </div>
        </div>

        <div class="mb-3 d-flex align-items-start">
          <i class="bi bi-clock-fill text-primary fs-4 me-3"></i>
          <div>
            <strong>Business Hours:</strong><br>
            Monâ€“Fri: 8:00 AM â€“ 6:00 PM<br>
            Sat: 9:00 AM â€“ 4:00 PM<br>
            Sun: Closed
          </div>
        </div>

        <div class="mt-4">
          <h5>Connect With Us</h5>
          <div class="d-flex gap-3 mt-3">
            <a href="#" class="btn btn-outline-primary rounded-circle"><i class="bi bi-facebook"></i></a>
            <a href="#" class="btn btn-outline-primary rounded-circle"><i class="bi bi-twitter"></i></a>
            <a href="#" class="btn btn-outline-primary rounded-circle"><i class="bi bi-linkedin"></i></a>
            <a href="#" class="btn btn-outline-primary rounded-circle"><i class="bi bi-instagram"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ðŸŒŸ Smooth Fade Animation for Success Message -->
<script>
  setTimeout(() => {
    const alert = document.getElementById('success-alert');
    if (alert) {
      alert.style.transition = 'opacity 0.7s ease';
      alert.style.opacity = '0';
      setTimeout(() => alert.remove(), 700);
    }
  }, 3000);
</script>
{% endblock %}
